---
layout: post
title: 异步操作笔记
subtitle: 1
author: JoVanko
categories: C#
banner:
#   video: 
#   loop: true
#   volume: 0.8
  start_at: 8.5
  image: https://zhaohuanke123.github.io/assets/images/def.jpg
  opacity: 0.618
  background: "#000"
  height: "100vh"
  min_height: "38vh"
  heading_style: "font-size: 4.25em; font-weight: bold; text-decoration: underline"
  subheading_style: "color: gold"
tags: C#
top: 1
sidebar: []

---



# 多线程

# 线程本地储存

# 事件循环机制

程序有一个或多个线程，专门用于捕获对象检查状态，把执行的阻塞操作转换为非阻塞操作，再注册事件以在完成后收到通知 

(程序编写难度高)
JS=单线程

基于回调的异步操作，Netty（Java框架）、AIO（操作系统提供）

异步编程模型

# TPL

# 异步操作

具有传染性

# async/await TPL支持

async用于标记方法，使其能够使用异步操作

await用于等待异步操作完成

异步操作：需要多线程支持，但不需要很多

最少2个线程即可
1个处理任务，1一个检查状态调用回调

# 异步本地储存

AsyncLocal<T>类

通过执行上下文（每一个托管线程对象拥有）来传播值

可以传递给子任务，但是不能传递给父任务

可以使用引用类型来传递值